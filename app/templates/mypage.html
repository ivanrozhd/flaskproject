{% extends 'base.html' %}

{% block head %} <!-- Title should be inside head block -->
    <title>Login Page</title>
{% endblock %}


{% block body %}
<h1>MyPage</h1>
     <h1>Welcome, {{ user.username }}!</h1>
    <p>Your email: {{ user.email }}</p>
   <h3>Interests</h3>


   <ul>
    {% for interest in interests %}
        <li id="interest-{{ interest.id }}">
            <!-- Display Mode -->
            <div class="display-mode" id="display-{{ interest.id }}">
                <span class="hobby">{{ interest.hobby }}</span> -
                <span class="description">{{ interest.description }}</span>
                <button class="edit-btn" data-id="{{ interest.id }}">Edit</button>
                <a href="{{ url_for('main.delete',username=user.username, id=interest.id) }}" onclick="return confirm('Are you sure you want to delete this interest?');">Delete</a>
            </div>

            <!-- Edit Mode -->
            <div class="edit-mode" id="edit-{{ interest.id }}" style="display: none;">
                <form action="{{ url_for('main.update_interest', username=user.username, id=interest.id) }}" method="POST">
                    <input type="text" name="hobby" value="{{ interest.hobby }}" />
                    <input type="text" name="description" value="{{ interest.description }}" />
                    <button type="submit">Update</button>
                    <button type="button" class="cancel-btn" data-id="{{ interest.id }}">Cancel</button>
                </form>
            </div>
        </li>

    {% endfor %}
</ul>


    <form method="POST">
        {{ form.hidden_tag() }}
        <div class="form-group">
            <h3> add new interests!!</h3>
            {{ form.hobby(class="form-control", placeholder="Enter an interest") }}
            {{ form.description(class="form-control", placeholder="Enter a description") }}
        </div>
        <button type="submit" class="btn btn-primary">{{ form.submit.label }}</button>
    </form>
</div>



      <a href="/logout">Logout</a><br>

{% endblock %}

